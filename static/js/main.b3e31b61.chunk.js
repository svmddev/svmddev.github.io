(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{10:function(e,n,t){"use strict";t.r(n);t(4);var o=t(0),r=t.n(o),a=t(2),c=t.n(a);t(9);var i=function(){const[e,n]=Object(o.useState)(null),[t,a]=Object(o.useState)(null);return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"SharpRPM with Camera"),r.a.createElement("button",{onClick:async()=>{try{const e=await async function(){return new Promise((e,n)=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.capture="environment",t.addEventListener("change",t=>{const o=t.target.files[0];o?e(o):n(new Error("No image selected"))}),t.click()})}(),t=await fetch("/sharprpm/postImage",{method:"POST",body:e}),o=await t.json();a(o.downloadURL),n(o.responseBody)}catch(e){console.error("Error capturing or processing image:",e)}}},"Capture Image"),e&&r.a.createElement("div",null,r.a.createElement("h2",null,"Output:"),r.a.createElement("p",null,JSON.stringify(e)),r.a.createElement("button",{onClick:async()=>{try{(await fetch("/sharprpm/confirmPost",{method:"POST",body:JSON.stringify({downloadURL:t,responseBody:e})})).ok&&alert("Post confirmed successfully")}catch(n){console.error("Error confirming post:",n)}}},"Confirm Post"))))};const s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(i,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="".concat("","/service-worker.js");s?(!function(e){fetch(e).then(n=>{404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):l(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):l(e)})}}()},3:function(e,n,t){e.exports=t(10)},9:function(e,n,t){}},[[3,1,2]]]);
//# sourceMappingURL=main.b3e31b61.chunk.js.map